<!DOCTYPE html>
<html lang="vi">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>Báo Cáo Thống Kê - やばい Admin</title>
	<link rel="stylesheet" href="css/admin.css">
	<link rel="shortcut icon" href="img/logo.png" type="image/x-icon">
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
	<!-- header -->
	<header class="header">
		<div class="header__content">
			<a href="index.html" class="header__logo">
				<img src="img/logo.png" alt="やばい Logo">
			</a>
			<button class="header__btn" type="button" onclick="toggleSidebar()">
				<span></span>
				<span></span>
				<span></span>
			</button>
		</div>
	</header>

	<!-- sidebar -->
	<div class="sidebar" id="sidebar">
		<a href="index.html" class="header__logo">
			<img src="img/logo.png" alt="やばい Logo" style="padding-left: 20px;">
		</a>

		<div class="sidebar__user">
			<div class="sidebar__user-img">
				<img src="img/user.svg" alt="User Avatar">
			</div>
			<div class="sidebar__user-info">
				<span class="sidebar__user-name">Admin</span>
				<span class="sidebar__user-email">admin@yabai.com</span>
			</div>
			<button class="sidebar__user-btn" type="button" title="Đăng xuất">
				<a href="logout.php" class="icon ion-ios-log-out"></a>
			</button>
		</div>

		<div class="sidebar__nav-wrap">
			<ul class="sidebar__nav">
				<li class="sidebar__nav-item">
					<a href="index.html" class="sidebar__nav-link">
						<span>Dashboard</span>
					</a>
				</li>

				<li class="sidebar__nav-item">
					<a href="manage_hotels.html" class="sidebar__nav-link">
						<span>Quản lý khách sạn</span>
					</a>
				</li>

				<li class="sidebar__nav-item">
					<a href="manage_system.html" class="sidebar__nav-link">
						<span>Quản lý hệ thống</span>
					</a>
				</li>

				<li class="sidebar__nav-item">
					<a href="manage_users.html" class="sidebar__nav-link">
						<span>Quản lý người dùng</span>
					</a>
				</li>

				<li class="sidebar__nav-item">
					<a href="manage_bookings.html" class="sidebar__nav-link">
						<span>Quản lý đặt phòng</span>
					</a>
				</li>

				<li class="sidebar__nav-item">
					<a href="manage_transactions.html" class="sidebar__nav-link">
						<span>Quản lý giao dịch</span>
					</a>
				</li>

				<li class="sidebar__nav-item">
					<a href="reports.html" class="sidebar__nav-link sidebar__nav-link--active">
						<span>Báo cáo thống kê</span>
					</a>
				</li>
			</ul>
		</div>

		<div class="sidebar__copyright">
			© 2025 やばい Admin. <br>
			Create by <a href="index.html" target="_blank">やばい Team</a>
		</div>
	</div>

	<!-- main content -->
	<main class="main">
		<div class="container-fluid">
			<div class="row row--grid">
				<!-- main title -->
				<div class="col-12">
					<div class="main__title fade-in">
						<h2> Báo Cáo Thống Kê</h2>
						<div class="d-flex gap-10">
							<select class="form-control" style="width: 200px;" onchange="changeTimeRange(this.value)">
								<option value="today">Hôm nay</option>
								<option value="week">7 ngày qua</option>
								<option value="month" selected>30 ngày qua</option>
								<option value="year">Năm nay</option>
								<option value="custom">Tùy chỉnh</option>
							</select>
							<button class="btn btn-primary" onclick="exportReport()">
								 Xuất Báo Cáo
							</button>
						</div>
					</div>
				</div>

				<!-- Revenue Stats -->
				<div class="col-12">
					<div class="stats-grid fade-in">
						<div class="stat-card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
							<div class="stat-number">125.8M</div>
							<div class="stat-label"> Tổng Doanh Thu (VNĐ)</div>
							<small style="margin-top: 10px; opacity: 0.9;">↑ +15.3% so với tháng trước</small>
						</div>
						<div class="stat-card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
							<div class="stat-number">3,847</div>
							<div class="stat-label"> Tổng Đơn Đặt Phòng</div>
							<small style="margin-top: 10px; opacity: 0.9;">↑ +8.2% so với tháng trước</small>
						</div>
						<div class="stat-card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
							<div class="stat-number">32.7M</div>
							<div class="stat-label"> Doanh Thu Trung Bình</div>
							<small style="margin-top: 10px; opacity: 0.9;">↑ +6.5% so với tháng trước</small>
						</div>
						<div class="stat-card" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
							<div class="stat-number">87.3%</div>
							<div class="stat-label"> Tỷ Lệ Hoàn Thành</div>
							<small style="margin-top: 10px; opacity: 0.9;">↑ +2.1% so với tháng trước</small>
						</div>
					</div>
				</div>

				<!-- Revenue Chart -->
				<div class="col-xl-6">
					<div class="card fade-in">
						<div class="card-header">
							<h3 class="card-title"> Biểu Đồ Doanh Thu</h3>
						</div>
						<canvas id="revenueChart" style="max-height: 300px;"></canvas>
					</div>
				</div>

				<!-- Bookings Chart -->
				<div class="col-xl-6">
					<div class="card fade-in">
						<div class="card-header">
							<h3 class="card-title"> Biểu Đồ Đặt Phòng</h3>
						</div>
						<canvas id="bookingsChart" style="max-height: 300px;"></canvas>
					</div>
				</div>

				<!-- Top Hotels -->
				<div class="col-xl-6">
					<div class="card fade-in">
						<div class="card-header">
							<h3 class="card-title"> Top 5 Khách Sạn Doanh Thu Cao</h3>
						</div>
						<div class="table-container">
							<table class="table">
								<thead>
									<tr>
										<th>Khách sạn</th>
										<th>Đơn hàng</th>
										<th>Doanh thu</th>
										<th>Tăng trưởng</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>
											<strong>Grand Luxury Hotel</strong><br>
											<small>TP. Hồ Chí Minh</small>
										</td>
										<td>847</td>
										<td>28.5M VNĐ</td>
										<td><span class="status active">↑ 18.2%</span></td>
									</tr>
									<tr>
										
										<td>
											<strong>Paradise Beach Resort</strong><br>
											<small>Đà Nẵng</small>
										</td>
										<td>725</td>
										<td>24.9M VNĐ</td>
										<td><span class="status active">↑ 12.6%</span></td>
									</tr>
									<tr>
										<td>
											<strong>Saigon Riverside Hotel</strong><br>
											<small>TP. Hồ Chí Minh</small>
										</td>
										<td>653</td>
										<td>21.3M VNĐ</td>
										<td><span class="status warning">↑ 9.1%</span></td>
									</tr>
									<tr>
										<td>
											<strong>Hanoi Skyline Hotel</strong><br>
											<small>Hà Nội</small>
										</td>
										<td>502</td>
										<td>18.4M VNĐ</td>
										<td><span class="status neutral">↑ 5.7%</span></td>
									</tr>
									<tr>
										<td>
											<strong>Sunset Valley Resort</strong><br>
											<small>Phú Quốc</small>
										</td>
										<td>435</td>
										<td>16.2M VNĐ</td>
										<td><span class="status down">↓ 2.4%</span></td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>

				<!-- Top Users -->
				<div class="col-xl-6">
					<div class="card fade-in">
						<div class="card-header">
							<h3 class="card-title"> Top 5 Người Dùng Tích Cực</h3>
						</div>
						<div class="table-container">
							<table class="table">
								<thead>
									<tr>
										<th>Người dùng</th>
										<th>Email</th>
										<th>Đơn đặt</th>
										<th>Tổng chi tiêu</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td><strong>Nguyễn Văn A</strong></td>
										<td>vana@gmail.com</td>
										<td>52</td>
										<td>4.2M VNĐ</td>
									</tr>
									<tr>
										<td><strong>Trần Thị B</strong></td>
										<td>thib@gmail.com</td>
										<td>48</td>
										<td>3.9M VNĐ</td>
									</tr>
									<tr>
										<td><strong>Lê Hữu C</strong></td>
										<td>lehc@gmail.com</td>
										<td>41</td>
										<td>3.1M VNĐ</td>
									</tr>
									<tr>
										<td><strong>Phạm Quốc D</strong></td>
										<td>quocd@gmail.com</td>
										<td>38</td>
										<td>2.9M VNĐ</td>
									</tr>
									<tr>
										<td><strong>Đỗ Mỹ E</strong></td>
										<td>mye@gmail.com</td>
										<td>34</td>
										<td>2.6M VNĐ</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>

			</div>
		</div>
	</main>

	<script>
		function toggleSidebar() {
			document.getElementById("sidebar").classList.toggle("active");
		}

		// Biểu đồ Doanh thu
		const ctxRevenue = document.getElementById('revenueChart').getContext('2d');
		new Chart(ctxRevenue, {
			type: 'line',
			data: {
				labels: ['Tuần 1', 'Tuần 2', 'Tuần 3', 'Tuần 4'],
				datasets: [{
					label: 'Doanh Thu (VNĐ)',
					data: [22, 28, 35, 40],
					borderColor: '#667eea',
					backgroundColor: 'rgba(102,126,234,0.2)',
					tension: 0.4,
					fill: true
				}]
			},
			options: {
				responsive: true,
				plugins: { legend: { display: false } },
				scales: {
					y: { beginAtZero: true }
				}
			}
		});

		// Biểu đồ Đặt phòng
		const ctxBookings = document.getElementById('bookingsChart').getContext('2d');
		new Chart(ctxBookings, {
			type: 'bar',
			data: {
				labels: ['T1', 'T2', 'T3', 'T4', 'T5', 'T6'],
				datasets: [{
					label: 'Số đơn đặt',
					data: [500, 650, 700, 850, 900, 950],
					backgroundColor: ['#764ba2', '#f5576c', '#00f2fe', '#38f9d7', '#43e97b', '#f093fb']
				}]
			},
			options: {
				responsive: true,
				plugins: { legend: { display: false } },
				scales: {
					y: { beginAtZero: true }
				}
			}
		});

		function exportReport() {
			alert("Chức năng xuất báo cáo đang được phát triển...");
		}
		document.addEventListener('DOMContentLoaded', function() {
			const navLinks = document.querySelectorAll('.sidebar__nav-link');
			const currentPage = window.location.pathname.split('/').pop() || 'index.html';
			
			// Set active based on current page
			navLinks.forEach(link => {
				const href = link.getAttribute('href');
				if (href === currentPage || (currentPage === '' && href === 'index.html')) {
					link.classList.add('sidebar__nav-link--active');
				} else {
					link.classList.remove('sidebar__nav-link--active');
				}
			});
			
			// Handle click events
			navLinks.forEach(link => {
				link.addEventListener('click', function(e) {
					navLinks.forEach(l => l.classList.remove('sidebar__nav-link--active'));
					this.classList.add('sidebar__nav-link--active');
				});
			});
		});
	</script>
</body>

</html>
