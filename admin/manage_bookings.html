<!DOCTYPE html>
<html lang="vi">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>Quản lý đơn đặt phòng - やばい</title>
	<link rel="stylesheet" href="css/admin.css">
	<link rel="shortcut icon" href="img/logo.png" type="image/x-icon">
</head>
<body>
	<header class="header">
		<div class="header__content">
			<a href="index.html" class="header__logo">
				<img src="img/logo.png" alt="LuxStay Logo">
			</a>
			<button class="header__btn" type="button" onclick="toggleSidebar()">
				<span></span>
				<span></span>
				<span></span>
			</button>
		</div>
	</header>

	<div class="sidebar" id="sidebar">
		<a href="index.html" class="header__logo">
			<img src="img/logo.png" alt="LuxStay Logo" style="padding-left: 20px;">
		</a>

		<div class="sidebar__user">
			<div class="sidebar__user-img">
				<img src="img/user.svg" alt="User Avatar">
			</div>
			<div class="sidebar__user-info">
				<span class="sidebar__user-name">Chủ khách sạn</span>
				<span class="sidebar__user-email">owner@luxstay.com</span>
			</div>
			<a href="logout.php" class="sidebar__user-btn" title="Đăng xuất" style="display: flex; align-items: center; justify-content: center; text-decoration: none;">
    			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512">
        		<path d="M320 176v-40a40 40 0 00-40-40H88a40 40 0 00-40 40v240a40 40 0 0040 40h192a40 40 0 0040-40v-40M384 176l80 80-80 80M191 256h273" fill="none" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/>
    			</svg>
			</a>
		</div>

		<div class="sidebar__nav-wrap">
			<ul class="sidebar__nav">
				<li class="sidebar__nav-item">
					<a href="index.html" class="sidebar__nav-link sidebar__nav-link--active">
						<span>Dashboard</span>
					</a>
				</li>

				<li class="sidebar__nav-item">
					<a href="manage_hotels.html" class="sidebar__nav-link">
						<span>Quản lý khách sạn</span>
					</a>
				</li>

				<li class="sidebar__nav-item">
					<a href="manage_system.html" class="sidebar__nav-link">
						<span>Quản lý hệ thống</span>
					</a>
				</li>

				<li class="sidebar__nav-item">
					<a href="manage_users.html" class="sidebar__nav-link">
						<span>Quản lý người dùng</span>
					</a>
				</li>

				<li class="sidebar__nav-item">
					<a href="manage_bookings.html" class="sidebar__nav-link">
						<span>Quản lý đặt phòng</span>
					</a>
				</li>

				<li class="sidebar__nav-item">
					<a href="manage_transactions.html" class="sidebar__nav-link">
						<span>Quản lý giao dịch</span>
					</a>
				</li>

				<li class="sidebar__nav-item">
					<a href="reports.html" class="sidebar__nav-link">
						<span>Báo cáo thống kê</span>
					</a>
				</li>

			</ul>
		</div>

		<div class="sidebar__copyright">
			© 2024 LuxStay. <br>
			Create by <a href="index.html" target="_blank">LuxStay Team</a>
		</div>
	</div>

	<main class="main">
		<div class="container-fluid">
			<div class="row row--grid">
				<div class="col-12">
					<div class="main__title fade-in">
						<h2>Quản lý đơn đặt phòng</h2>
					</div>
				</div>

				<!-- Filter Section -->
				<div class="col-12">
					<div class="card fade-in">
						<div class="card-header">
							<h3 class="card-title">Bộ lọc</h3>
						</div>
						<div class="d-flex gap-15">
							<div class="form-group" style="flex: 1;">
								<label>Trạng thái</label>
								<select class="form-control" onchange="filterByStatus(this.value)">
									<option value="all">Tất cả</option>
									<option value="pending">Chờ xác nhận</option>
									<option value="confirmed">Đã xác nhận</option>
									<option value="checkedin">Đã check-in</option>
									<option value="completed">Hoàn thành</option>
									<option value="cancelled">Đã hủy</option>
								</select>
							</div>
							<div class="form-group" style="flex: 1;">
								<label>Khách sạn</label>
								<select class="form-control" onchange="filterByHotel(this.value)">
									<option value="all">Tất cả khách sạn</option>
									<option value="H001">Grand Hotel Luxury</option>
									<option value="H002">Beach Resort Paradise</option>
									<option value="H003">Mountain View Hotel</option>
								</select>
							</div>
						</div>
					</div>
				</div>

				<!-- Bookings Statistics -->
				<div class="col-12">
					<div class="stats-grid fade-in">
						<div class="stat-card">
							<div class="stat-number">48</div>
							<div class="stat-label">Tổng đặt phòng</div>
						</div>
						<div class="stat-card">
							<div class="stat-number">12</div>
							<div class="stat-label">Chờ xác nhận</div>
						</div>
						<div class="stat-card">
							<div class="stat-number">28</div>
							<div class="stat-label">Đã xác nhận</div>
						</div>
						<div class="stat-card">
							<div class="stat-number">8</div>
							<div class="stat-label">Đã hủy</div>
						</div>
					</div>
				</div>

				<!-- Bookings List -->
				<div class="col-12">
					<div class="card fade-in">
						<div class="card-header">
							<h3 class="card-title">Danh sách đặt phòng</h3>
							<div class="dashbox__wrap">
								<a class="dashbox__refresh" href="#" onclick="refreshBookingList()" title="Làm mới">
									<i class="icon ion-ios-refresh"></i>
								</a>
							</div>
						</div>

						<div class="table-container">
							<table class="table">
								<thead>
									<tr>
										<th>Mã đặt phòng</th>
										<th>Khách hàng</th>
										<th>Khách sạn</th>
										<th>Loại phòng</th>
										<th>Check-in</th>
										<th>Check-out</th>
										<th>Tổng tiền</th>
										<th>Trạng thái</th>
										<th>Hành động</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>#BK0124</td>
										<td>Nguyễn Văn A</td>
										<td>Grand Hotel</td>
										<td>Deluxe Room</td>
										<td>15/01/2025</td>
										<td>17/01/2025</td>
										<td>3,000,000 VNĐ</td>
										<td><span class="status pending">Chờ xác nhận</span></td>
										<td>
											<button class="btn btn-sm btn-success" onclick="confirmBooking('BK0124')">Xác nhận</button>
											<button class="btn btn-sm btn-danger" onclick="cancelBooking('BK0124')">Hủy</button>
										</td>
									</tr>
									<tr>
										<td>#BK0123</td>
										<td>Trần Thị B</td>
										<td>Beach Resort</td>
										<td>Ocean View</td>
										<td>12/01/2025</td>
										<td>16/01/2025</td>
										<td>10,000,000 VNĐ</td>
										<td><span class="status confirmed">Đã xác nhận</span></td>
										<td>
											<button class="btn btn-sm btn-secondary" onclick="viewBookingDetails('BK0123')">Chi tiết</button>
											<button class="btn btn-sm btn-danger" onclick="cancelBooking('BK0123')">Hủy</button>
										</td>
									</tr>
									<tr>
										<td>#BK0122</td>
										<td>Lê Văn C</td>
										<td>Mountain View Hotel</td>
										<td>Standard Room</td>
										<td>10/01/2025</td>
										<td>12/01/2025</td>
										<td>2,500,000 VNĐ</td>
										<td><span class="status cancelled">Đã hủy</span></td>
										<td>
											<button class="btn btn-sm btn-secondary" onclick="viewBookingDetails('BK0122')">Chi tiết</button>
										</td>
									</tr>
									<tr>
										<td>#BK0121</td>
										<td>Phạm Thị D</td>
										<td>Grand Hotel</td>
										<td>Suite Room</td>
										<td>05/01/2025</td>
										<td>08/01/2025</td>
										<td>6,500,000 VNĐ</td>
										<td><span class="status completed">Hoàn thành</span></td>
										<td>
											<button class="btn btn-sm btn-secondary" onclick="viewBookingDetails('BK0121')">Chi tiết</button>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</main>

	<script>
		// Toggle Sidebar
		function toggleSidebar() {
			document.getElementById("sidebar").classList.toggle("active");
		}

		// Bộ lọc theo trạng thái
		function filterByStatus(status) {
			alert("Lọc theo trạng thái: " + status);
			// TODO: thêm code AJAX hoặc filter bảng
		}

		// Bộ lọc theo khách sạn
		function filterByHotel(hotelId) {
			alert("Lọc theo khách sạn: " + hotelId);
			// TODO: thêm code AJAX hoặc filter bảng
		}

		// Xác nhận đơn
		function confirmBooking(bookingId) {
			alert("Xác nhận đơn: " + bookingId);
			// TODO: gọi API cập nhật trạng thái
		}

		// Hủy đơn
		function cancelBooking(bookingId) {
			if (confirm("Bạn có chắc muốn hủy đơn " + bookingId + " ?")) {
				alert("Đã hủy đơn: " + bookingId);
				// TODO: gọi API cập nhật trạng thái
			}
		}

		// Xem chi tiết đơn
		function viewBookingDetails(bookingId) {
			alert("Xem chi tiết đơn: " + bookingId);
			// TODO: chuyển hướng sang trang chi tiết
		}

		// Làm mới danh sách
		function refreshBookingList() {
			alert("Đang làm mới danh sách...");
			// TODO: load lại dữ liệu từ server
		}
		// Active menu handling
		document.addEventListener('DOMContentLoaded', function() {
			const navLinks = document.querySelectorAll('.sidebar__nav-link');
			const currentPage = window.location.pathname.split('/').pop() || 'index.html';
			
			// Set active based on current page
			navLinks.forEach(link => {
				const href = link.getAttribute('href');
				if (href === currentPage || (currentPage === '' && href === 'index.html')) {
					link.classList.add('sidebar__nav-link--active');
				} else {
					link.classList.remove('sidebar__nav-link--active');
				}
			});
			
			// Handle click events
			navLinks.forEach(link => {
				link.addEventListener('click', function(e) {
					navLinks.forEach(l => l.classList.remove('sidebar__nav-link--active'));
					this.classList.add('sidebar__nav-link--active');
				});
			});
		});
	</script>
</body>
</html>
